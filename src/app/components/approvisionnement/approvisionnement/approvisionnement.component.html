<app-message-modal
  *ngIf="displayMessageModal"
  [messageModal]="messageModal"
></app-message-modal>

<div class="div-add">
  <form
    #addApprovisionnement="ngForm"
    (ngSubmit)="saveApprovisionnement(addApprovisionnement)"
  >
    <fieldset>
      <legend class="titre">{{ "approvisionnement.titre" | translate }}</legend>
      <span
        ><label for="article" class="salarie-label">{{
          "approvisionnement.article" | translate
        }}</label>
        <select
          [(ngModel)]="approvisionnement.article"
          name="article"
          required
          class="input"
          (ngModelChange)="onChange($event)"
        >
          <option *ngFor="let c of articles$ | async" [ngValue]="c">{{
            c.libelle
          }}</option>
        </select>
      </span>

      <span
        ><label for="stock" class="label">{{
          "approvisionnement.stock" | translate
        }}</label
        ><input
          name="stock"
          class="input"
          type="text"
          required
          [(ngModel)]="stock"
      /></span>

      <span
        ><label for="type" class="label">{{
          "approvisionnement.type" | translate
        }}</label
        ><select
          [(ngModel)]="approvisionnement.type"
          name="type"
          required
          class="input"
        >
          <option *ngFor="let c of types" [ngValue]="c.id">{{
            c.value
          }}</option>
        </select></span
      >

      <span
        ><label for="quantite" class="label">{{
          "approvisionnement.quantite" | translate
        }}</label
        ><input
          name="quantite"
          class="input"
          type="text"
          required
          [(ngModel)]="approvisionnement.quantite" /></span
      ><span
        ><label for="montant" class="label">{{
          "approvisionnement.montant" | translate
        }}</label
        ><input
          name="montant"
          class="input"
          type="text"
          required
          [(ngModel)]="approvisionnement.montantTotal"
      /></span>
      <span
        ><label for="commentaire" class="label">{{
          "approvisionnement.commentaire" | translate
        }}</label
        ><textarea
          name="commentaire"
          class="input"
          type="text"
          [(ngModel)]="approvisionnement.commentaire"
        ></textarea>
      </span>

      <span
        ><input
          [value]="actionButton"
          class="submit-button"
          type="submit"
          [disabled]="!addApprovisionnement.form.valid"
      /></span>
      <span class="span-submit"></span>

      <span class="span-submit"></span>
      <button
        type="reset"
        class="clear-form-button"
        (click)="clearForm(addApprovisionnement)"
      >
        {{ "button.clear" | translate }}
      </button>
    </fieldset>
  </form>
</div>
<!--app-back-to-menu></app-back-to-menu-->
